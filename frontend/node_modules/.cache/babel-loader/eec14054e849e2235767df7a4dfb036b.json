{"ast":null,"code":"import _toConsumableArray from\"/Users/aron/Desktop/code/webpage/amazon/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/aron/Desktop/code/webpage/amazon/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useNavigate}from'react-router-dom';import{detailsProduct}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import Rating from'../components/Rating';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ProductScreen(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;var productId=document.location.pathname.split(\"/\")[document.location.pathname.split(\"/\").length-1];useEffect(function(){dispatch(detailsProduct(productId));},[dispatch,productId]);var addToCartHandler=function addToCartHandler(){navigate(\"/cart/\".concat(productId,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to Result\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"large\",src:product.image,alt:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h1\",{children:product.name})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Rating,{rating:product.rating,numReviews:product.numReviews})}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Price : $\",product.price]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"p\",{children:product.description})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[\"$\",product.price]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{children:product.countInStock>0?/*#__PURE__*/_jsx(\"span\",{className:\"success\",children:\"In Stock\"}):/*#__PURE__*/_jsx(\"span\",{className:\"danger\",children:\"Out of Stock\"})})]})}),product.countInStock>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:addToCartHandler,className:\"primary block\",children:\"Add to Cart\"})})]})]})})})]})]})});}","map":{"version":3,"sources":["/Users/aron/Desktop/code/webpage/amazon/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","useNavigate","detailsProduct","LoadingBox","MessageBox","Rating","ProductScreen","navigate","dispatch","qty","setQty","productDetails","state","loading","error","product","productId","document","location","pathname","split","length","addToCartHandler","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { detailsProduct } from '../actions/productActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport Rating from '../components/Rating';\n\nexport default function ProductScreen(){\n    let navigate = useNavigate();\n    const dispatch = useDispatch();\n    const [qty, setQty] = useState(1);\n    const productDetails = useSelector(state => state.productDetails);\n    const { loading, error, product } = productDetails;\n\n    const productId = document.location.pathname.split(\"/\")[document.location.pathname.split(\"/\").length - 1];\n\n    useEffect(() => {\n        dispatch(detailsProduct(productId))\n    }, [dispatch, productId]);\n\n    const addToCartHandler = () => {\n        navigate(`/cart/${productId}?qty=${qty}`);\n    }\n\n    return (\n        <div>\n        { loading ? (<LoadingBox></LoadingBox>) \n        : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n            <div>\n            <Link to=\"/\">Back to Result</Link>\n            <div className=\"row top\">\n                <div className=\"col-2\">\n                    <img className=\"large\" src={product.image} alt={product.name}></img>\n                </div>\n                <div className=\"col-1\">\n                    <ul>\n                        <li>\n                            <h1>{product.name}</h1>\n                        </li>\n                        <li>\n                            <Rating rating={product.rating} numReviews={product.numReviews}></Rating>\n                        </li>\n                        <li>\n                            Price : ${product.price}\n                        </li>\n                        <li>\n                            Description:\n                            <p>{product.description}</p>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"col-1\">\n                    <div className=\"card card-body\">\n                        <ul>\n                            <li>\n                                <div className=\"row\">\n                                    <div>Price</div>\n                                    <div className=\"price\">${product.price}</div>\n                                </div>\n                            </li>\n                            <li>\n                                <div className=\"row\">\n                                    <div>Status</div>\n                                    <div>{product.countInStock>0 ? (<span className=\"success\">In Stock</span>):\n                                    (<span className=\"danger\">Out of Stock</span>)\n                                    }</div>\n                                </div>\n                            </li>\n                            {\n                                product.countInStock > 0 && (\n                                <>\n                                    <li>\n                                        <div className=\"row\"></div>\n                                        <div>Quantity</div>\n                                        <select value={qty} onChange={(e) => setQty(e.target.value)}>\n                                            {[...Array(product.countInStock).keys()].map( x => (\n                                                    <option key={x+1} value={x+1}>{x+1}</option>\n                                                )\n                                            )}\n                                        </select>\n                                    </li>\n                                    <li>\n                                        <button onClick={addToCartHandler} className=\"primary block\">Add to Cart</button>\n                                    </li>\n                                </>\n                                )\n                            }\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n        )} \n     </div>\n       \n    )\n}"]},"metadata":{},"sourceType":"module"}