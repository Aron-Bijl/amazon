{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'../../node_modules/react-router/index';import{createProduct,deleteProduct,listProducts}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{PRODUCT_CREATE_RESET,PRODUCT_DELETE_RESET}from'../constants/productConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductListScreen(){var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;var dispatch=useDispatch();var navigate=useNavigate();var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;useEffect(function(){if(successCreate){dispatch({type:PRODUCT_CREATE_RESET});navigate(\"/product/\".concat(createdProduct._id,\"/edit\"));}if(successDelete){dispatch({type:PRODUCT_DELETE_RESET});}dispatch(listProducts());},[createdProduct,dispatch,navigate,successCreate,successDelete]);var deleteHandler=function deleteHandler(product){if(window.confirm('Are you sure to delete?')){dispatch(deleteProduct(product._id));}};var createHandler=function createHandler(){dispatch(createProduct());};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"primary\",onClick:createHandler,children:\"Create Product\"})]}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(LoadingBox,{}),errorCreate&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorCreate}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BRAND\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",product.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return navigate(\"/product/\".concat(product._id,\"/edit\"));},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(product);},children:\"Delete\"})]})]},product._id);})})]})]});}","map":{"version":3,"sources":["/Users/aron/Desktop/code/webpage/amazon/frontend/src/screens/ProductListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","useNavigate","createProduct","deleteProduct","listProducts","LoadingBox","MessageBox","PRODUCT_CREATE_RESET","PRODUCT_DELETE_RESET","ProductListScreen","productList","state","loading","error","products","productCreate","loadingCreate","errorCreate","successCreate","success","createdProduct","product","dispatch","navigate","productDelete","loadingDelete","errorDelete","successDelete","type","_id","deleteHandler","window","confirm","createHandler","map","name","price","toFixed","category","brand"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from '../../node_modules/react-router/index';\nimport { createProduct, deleteProduct, listProducts } from '../actions/productActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { PRODUCT_CREATE_RESET, PRODUCT_DELETE_RESET } from '../constants/productConstants';\n\nexport default function ProductListScreen (){\n    const productList = useSelector(state => state.productList);\n    const { loading, error, products } = productList;\n\n    const productCreate = useSelector(state => state.productCreate);\n    const { loading: loadingCreate, error: errorCreate, success: successCreate, product: createdProduct } = productCreate;\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const productDelete = useSelector(state => state.productDelete);\n    const { loading: loadingDelete, error: errorDelete, success: successDelete } =  productDelete;\n\n    useEffect(() => {\n        if (successCreate) {\n          dispatch({ type: PRODUCT_CREATE_RESET });\n          navigate(`/product/${createdProduct._id}/edit`);\n        }\n        if (successDelete) {\n          dispatch({ type: PRODUCT_DELETE_RESET });\n        }\n        dispatch(listProducts());\n      }, [createdProduct, dispatch, navigate, successCreate, successDelete]);\n\n    const deleteHandler = (product) => {\n        if(window.confirm('Are you sure to delete?')){\n            dispatch(deleteProduct(product._id));\n        }\n    };\n\n    const createHandler = () => {\n        dispatch(createProduct());\n    }\n\n    return(\n        <div>\n            <div className='row'>\n            <h1>Products</h1>\n            <button type='button' className='primary' onClick={createHandler}>Create Product</button>\n            </div>\n\n            {loadingDelete && <LoadingBox></LoadingBox>}\n            {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n\n            {loadingCreate && <LoadingBox></LoadingBox>}\n            {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\n            {loading? <LoadingBox></LoadingBox>\n            : \n            error? <MessageBox variant=\"danger\">{error}</MessageBox>\n            :\n            <table className='table'>\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>NAME</th>\n                        <th>PRICE</th>\n                        <th>CATEGORY</th>\n                        <th>BRAND</th>\n                        <th>ACTIONS</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {products.map((product) => (\n                        <tr key={product._id}>\n                            <td>{product._id}</td>\n                            <td>{product.name}</td>\n                            <td>$ {product.price.toFixed(2)}</td>\n                            <td>{product.category}</td>\n                            <td>{product.brand}</td>\n                            <td>\n                                <button\n                                type=\"button\"\n                                className=\"small\"\n                                onClick={() => navigate(`/product/${product._id}/edit`)}\n                                >\n                                Edit\n                                </button>\n                                <button\n                                type=\"button\"\n                                className=\"small\"\n                                onClick={() => deleteHandler(product)}\n                                >\n                                Delete\n                                </button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        }\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}